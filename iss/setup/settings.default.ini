; Default parameters
;
; Do not modify this file!  If you would like to change a value, create a new
; settings.ini file and set only the parameters you would like to be different
; than those found in this file.


[file_names]
; directory where raw nd2 files are
input_dir =

; directory where data saved
output_dir =

; directory where tile tiff files saved
tile_dir =

; Names of nd2 files for the rounds
round =

; Name of the file for the anchor round
anchor =

;
raw_extension = .nd2

; if true, tile and channel index in tile names will start at 1 else start at 0.
matlab_tile_names = False


[basic_info]
; Whether to use the 3d pipeline.
3d =

; Channel that has most spots in anchor round (Starting from 0)
anchor_channel =

; Channel in anchor round that contains Dapi images (Starting from 0)
dapi_channel =

; will be set to anchor_round if anchor_channel and anchor file specified
ref_round =

; will be set to anchor_channel if anchor_channel and anchor file specified
ref_channel =
use_channels =
use_rounds =
use_z =
use_tiles =

; tile_pixel_value_shift is added onto every tile (except DAPI) when it is saved and
; removed from every tile when loaded so we can have negative pixel values. Saves as uint16.
tile_pixel_value_shift = 15000

; Previously had cases where first z plane in nd2 file was in wrong place and
; caused focus stacking to be weird or identify lots of spots on first plane
; hence safest to not load first plane which is done if this is True.
ignore_first_z_plane = True


[extract]
; time to wait for raw data to come in before crashing
; assume first round is already in the input_directory
; Want this large so can run pipeline while collecting data.
wait_time = 21600

; These specify the dimensions of the convolve_2d. R1 should be approximately the
; size of the spot (in pixels) in the respective direction and R2 should be double this (in pixels).
; Leave empty to auto-detect.
r1 =
r2 =

; radius of DAPI convolve_2d in units of pixels
r_dapi =

; if r1 and r_dapi not specified. Will convert to units of pixels from
; these micron values
; if r2 not specified, it will be twice r1.
r1_auto_microns = 0.5
r_dapi_auto_microns = 8.0


; Each filtered image is multiplied by scale. This is
; because the image is saved as uint16 so to gain information from
; the decimal points, should multiply image so max pixel number is
; in the 10,000s (less than 65,536).

; Normalization factor for the tiff images.  Leave empty to auto-detect.
scale =

; If scale not given, it sets to
; scale_norm/max(Tile ExtractScaleTile, round 0).
scale_norm = 40000

; Have different normalisation for anchor round/anchor channel as not
; used in final spot_colors
scale_anchor =

; auto_thresh[t,c,r] is default threshold to find spots on tile t, channel c, round r
; value of auto_thresh is auto_thresh_multiplier*median(abs(ScaledFilteredTile)).
auto_thresh_multiplier = 10


[find_spots]
min_score =
step = 5,5,2
